pool:
  vmImage: 'ubuntu-latest'

trigger:
  branches:
    include:
      - main
  paths:
    include:
      - '**/ApiGateway/*'

stages:
#    - template: /Pipelines/Templates/domain-template.yaml
#      parameters:
#        appName: 'catton-api-gateway'
#        projectPath: '**/ApiGateway'
   - stage: 
     jobs:       
       - job: 
         steps:
           - task: Docker@2
             inputs:
               containerRegistry: 'CattonRegistryConnection'
               command: 'login'
           - task: AzureWebAppContainer@1
             inputs:
               azureSubscription: 'CattonAzureResourceManagerConnection'
               appName: 'catton-api-gateway'
               containers: 'cattonregistry.azurecr.io/catton-api-gateway:230'

