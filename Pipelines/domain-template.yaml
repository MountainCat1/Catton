parameters:
  - name: projectPath
    type: string
  - name: appName
    type: string

stages:
  - template: Pipelines/general-domain-template.yaml
    parameters:
      buildPlatform: 'Any CPU'
      buildConfiguration: 'Release'
      dockerFile: '${{ parameters.projectPath }}/Dockerfile'
      imageName: '${{ parameters.appName }}'
      registryUri: 'cattonregistry.azurecr.io'
      appName: '${{ parameters.appName }}'
      resourceGroup: 'Catton'
      registryConnection: 'CattonRegistryConnection'
      resourceManagerConnection: 'CattonAzureResourceManagerConnection'
      projectPath: '${{ parameters.projectPath }}'